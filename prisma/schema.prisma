// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  username String   @unique
  name      String?
  password  String
  createdAt DateTime @default(now())

  links Link[] // <-- Add this line

  portfolio Portfolio?
}

model Link {
  id     String @id @default(cuid())
  userId String
  type   String // 'contact' | 'social' | 'bank'
  label  String // label like 'phone', 'email', 'twitter', 'BPI', etc.
  value  String // the actual data like number, email, username, etc.

  user User @relation(fields: [userId], references: [id])
}

model Portfolio {
  id              String  @id @default(cuid())
  userId          String  @unique
  name            String
  title           String
  bio             String
  avatar          String
  backgroundColor String
  textColor       String
  font            String
  alignment       String
  showContact     Boolean
  showSkills      Boolean
  skills          String
  experience      String
  education       String
  projects        String

  user User @relation(fields: [userId], references: [id])
}
